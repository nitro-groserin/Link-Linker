name: Deploy to Firebase Hosting

on:
  push:
    branches:
      - main  # ã“ã®ãƒ–ãƒ©ãƒ³ãƒã¸ã®pushã§å®Ÿè¡Œ

jobs:
  deploy: # ã‚¸ãƒ§ãƒ–åã‚’ä¿®æ­£ï¼ˆbuild_and_deployã‹ã‚‰deployã¸ï¼‰
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4 # 1. GitHubãƒªãƒã‚¸ãƒˆãƒªã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ

      # --- âŒ ã“ã“ã«ã‚ã£ãŸ npm install ã‚„ npm run build ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å…¨ã¦å‰Šé™¤ï¼ ---

      - name: Deploy to Firebase # 2. Firebaseãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
        uses: FirebaseExtended/action-hosting-deploy@v0
        with:
          repoToken: ${{ secrets.GITHUB_TOKEN }}
          firebaseServiceAccount: ${{ secrets.FIREBASE_SERVICE_ACCOUNT_LINK_LINKER }} 
          projectId: link-linker # ğŸ”¥ ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã«è¨­å®š
          channelId: live 
